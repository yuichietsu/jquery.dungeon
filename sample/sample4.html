<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
<script type="text/javascript" src="../jquery.dungeon.js"></script>
<script>
$(function() {
	var opts = {
		'debug' : true,
		'width' : 320,
		'height' : 240,
		'drawType' : 'wire',
		'moveType' : 'snap',
		'events' : {
			'enter' : function(map, data) {
				switch(data) {
				case 'a':
					if (! map.welcome) {
						map.welcome = true;
						map.suspend();
						alert('Welcome');
						map.resume();
					}
					break;
				case 'g':
					if (! map.goal) {
						map.goal = true;
						map.suspend();
						alert('Goal');
						map.resume();
					}
					break;
				}
			}
		}
	};
	$('#floor1').dungeon(opts).hide();
	opts.moveType = 'normal';
	$('#floor2').dungeon(opts).hide();

	$('input[name="drawType"]').click(function() {
		var type = $(this).val();
		$('.floor').dungeon('drawType', type);
	});
});
</script>
</head>
<body>
<div>
<textarea id="floor1" class="floor">
****************************************
* ****        **************************
*      ***********    ***   ****    ****
****** **********                    ***
****** ************************ ********
**     *****                    ********
** **************************** ********
**                 ************ ********
******** *********************       ***
******** **********            *********
* ****        ***** ********************
*      ********     ***************** **
****** ******   ********************* **
****** ******                         **
**     ************************* * ** **
** ********************************** **
**0 a                                 **
********* ******************************
******        **************************
*      ***********    ***   ****    ****
****** **********                    ***
****** ************************ ********
**     *****                    ********
** **************************** ********
**                 ************ ********
******** *********************       ***
******** **********            *********
* ****        ***** ********************
*      ********     *****************z**
****** ******   ********************* **
****** ******                         **
**     ************************* * ** **
** ********************************** **
**                                    **
****************************************
</textarea>
<textarea id="floor2" class="floor">
****************************************
* ****        **************************
*      ***********    ***   ****    ****
****** **********                    ***
****** ************************ ********
**     *****                    ********
** **************************** ********
**                 ************ ********
******** *********************       ***
******** **********            *********
* ****        ***** ********************
*      ********     ***************** **
****** ******   ********************* **
****** ******                         **
**     ************************* * ** **
** ********************************** **
**0 a                                 **
********* ******************************
******        **************************
*      ***********    ***   ****    ****
****** **********                    ***
****** ************************ ********
**     *****                    ********
** **************************** ********
**                 ************ ********
******** *********************       ***
******** **********            *********
* ****        ***** ********************
*      ********     *****************z**
****** ******   ********************* **
****** ******                         **
**     ************************* * ** **
** ********************************** **
**                                    **
****************************************
</textarea>
</div>
<div>
draw type:
<label><input type="radio" name="drawType" value="wire" checked />Wireframe</label>
<label><input type="radio" name="drawType" value="normal" />Normal</label>
</div>
</body></html>
